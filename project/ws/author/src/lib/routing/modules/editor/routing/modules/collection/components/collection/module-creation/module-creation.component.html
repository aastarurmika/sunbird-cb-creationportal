<div class="main-model">
  <div class="overlay" *ngIf="isLoading">
    <div class="loader-container">
      <div class="loader-ripple">
        <div></div>
        <div></div>
      </div>
    </div>
  </div>
  <mat-grid-list *ngIf="!isSettingsPage" cols="4" rowHeight="100vh">
    <section class="edit-course-save-btn">
      <div class="flex flex-between margin-bottom-l margin-right-l">
        <button [ngClass]="showSettingsPage ? 'ws-mat-primary-background' : 'secondary-button'" mat-raised-button
          type="submit" (click)="setSettingsPage()"
          class="text-white save-next mat-button-base save-btn-bottom saveAndNextBtn">
          Next
        </button>
      </div>
    </section>
    <mat-grid-tile [colspan]="1">
      <mat-drawer-container [class.drawer-opened]="drawer.opened">
        <mat-drawer #drawer class="drawer" mode="side" opened="false"></mat-drawer>

        <!--module & resources left canvas header-->
        <mat-toolbar class="model header course-main-title-block">
          <span matTooltip="{{courseData?.name}}" class="course-main-title" style="white-space: normal;">{{
            courseData?.name
            | slice:0:24 }}</span>
          <!-- <mat-icon class=" material-icons margin-left-m text-medium brand-color" (click)=" editContent(courseData)">
            edit</mat-icon> -->
          <span class="course-duration" matTooltip="Course Duration">Duration :
            {{mainCourseDuration!=='' ?mainCourseDuration: '0h 0m 0s' }}</span>
        </mat-toolbar>
        <div class="left-navbar-block">
          <!--module & resource left footer-->
          <div class="left-nav-bar">
            <div class="model-button" *ngIf="!isSelfAssessment">
              <button [disabled]="hideModule" mat-raised-button
                class="ws-mat-primary-background mat-button-base save-btn-bottom" (click)="addModule()"> Add
                Module</button>
              <span class="or-txt">Or</span>
              <button [disabled]="hideResource" mat-raised-button
                class="ws-mat-primary-background mat-button-base save-btn-bottom" (click)="addIndependentResource()">Add
                Resource</button>
            </div>

          </div>
          <div *ngIf="!isSelfAssessment" style="width: 324px;" class="model-left-create-content div-1" cdkDropList
            (cdkDropListDropped)="drop($event)">
            <div class="module-container" *ngFor="let module of courseData?.children;index as i">
              <div>
                <div (click)="editContent(module)" class="left-block-container main"
                  *ngIf="module.primaryCategory === 'Course Unit'"
                  [ngClass]="editItem === module.identifier ? 'edit-item' : ''"
                  (cdkDragStarted)="dragDrop(module,module.identifier, 'Module')" style="cursor: pointer;"
                  (cdkDragReleased)="dragEnd($event)" cdkDrag cdkDragLockAxis="y">
                  <img *ngIf="editItem !== module.identifier" src="cbp-assets/icons/Vector.svg" alt="dragDrop"
                    class="dragIcon" />
                  <img *ngIf="editItem === module.identifier" src="cbp-assets/icons/Vector_white.svg" alt="dragDrop"
                    class="dragIcon" />
                  <div class="mod-heading">
                    <h2 class="module-text" style="margin: 0px !important">{{module.name !== '' ?
                      module.name : "no title1"}}
                    </h2>
                    <span fxFlex style="flex: 1 1 auto;"></span>
                  </div>
                  <div *ngIf="editItem !== module.identifier" class="hide-resource">
                    <svg (click)="toggleChildren(module)" xmlns="http://www.w3.org/2000/svg" width="11" height="7"
                      viewBox="0 0 11 7" fill="none">
                      <path
                        d="M5.5 7L0 0.0852527L1.00916 -4.80825e-07L5.5 4.82935L10.9908 -4.80825e-07L12 0.0852527L5.5 7Z"
                        fill="black" />
                    </svg>

                    <!-- <svg (click)="toggleChildren(module)" xmlns="http://www.w3.org/2000/svg" width="11" height="7"
                      viewBox="0 0 11 7" fill="none">
                      <path
                        d="M5.5 -4.80825e-07L11 5.91475L9.99084 7L5.5 2.17065L1.00916 7L9.4876e-08 5.91474L5.5 -4.80825e-07Z"
                        fill="black" />
                    </svg> -->
                  </div>
                  <div *ngIf="editItem == module.identifier" class="show-resource">
                    <a (click)="toggleChildren(module, i)">
                      <svg *ngIf="!showChildrenMap[module.identifier]" xmlns="http://www.w3.org/2000/svg" width="11"
                        height="7" viewBox="0 0 11 7" fill="none">
                        <path
                          d="M5.5 -4.80825e-07L11 5.91475L9.99084 7L5.5 2.17065L1.00916 7L9.4876e-08 5.91474L5.5 -4.80825e-07Z"
                          fill="black" />
                      </svg>
                      <svg *ngIf="showChildrenMap[module.identifier]" xmlns="http://www.w3.org/2000/svg" width="11"
                        height="7" viewBox="0 0 11 7" fill="none">
                        <path
                          d="M5.5 7L0 0.0852527L1.00916 -4.80825e-07L5.5 4.82935L10.9908 -4.80825e-07L12 0.0852527L5.5 7Z"
                          fill="black" />
                      </svg>
                    </a>
                  </div>
                </div>

                <div class="children" *ngIf="module?.children?.length > 0&&showChildrenMap[module.identifier]">
                  <div (click)=" editContent(resource)" *ngFor="let resource of module.children;index as l"
                    class="resource-1" style="cursor:pointer"
                    [ngClass]="editItem === resource.identifier ? 'edit-item' : ''" matTooltip="dragDrop"
                    [matTooltipPosition]="'left'"
                    (cdkDragStarted)="dragDrop(resource,resource.identifier, 'resourceInsideModule')"
                    style="cursor: pointer;" (cdkDragReleased)="dragEnd($event)" cdkDrag cdkDragLockAxis="y">
                    <div class="drag-icon-block">
                      <img *ngIf="editItem !== resource.identifier" src="cbp-assets/icons/Vector.svg" alt="dragDrop"
                        class="dragIcon" />
                      <img *ngIf="editItem === resource.identifier" src="cbp-assets/icons/Vector_white.svg"
                        alt="dragDrop" class="dragIcon" />
                    </div>
                    <div class="resource-block">
                      <div class="resource-block-display">
                        <span style="white-space: normal;" class="resourse-text">{{resource.name}} </span>
                        <span *ngIf="resource.duration>0" class="resource-duration-txt">(
                          {{ resource.duration | formatDuration }} )</span>
                      </div>
                      <div class="resource-status-block">
                        <span *ngIf="resource.artifactUrl&& resource.mimeType !== 'application/json'"
                          class="resourse-status">{{resource.mimeType |
                          MimeTypePipe}}
                          Updated
                        </span>
                        <span *ngIf="resource.artifactUrl&& resource.mimeType == 'application/json'"
                          class="resourse-status">{{resource?.isAssessment?'Assessment':'Quiz'}}
                          Updated
                        </span>

                        <span *ngIf="!resource.artifactUrl" class="resourse-status">Draft
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
                <button class="children" [disabled]="hideResource"
                  *ngIf="module.primaryCategory === 'Course Unit'&& showChildrenMap[module.identifier]"
                  mat-raised-button class=" secondary-button-outline mat-button-base addResourceBtn"
                  (click)="addResModule(module.identifier, courseData.identifier)">Add Resource</button>
                <div (click)="editContent(module)" *ngIf="module.primaryCategory !== 'Course Unit'"
                  class="heading-resource resource-2" [ngClass]="editItem === module.identifier ? 'edit-item' : ''"
                  matTooltip="dragDrop" (cdkDragStarted)="dragDrop(module,module.identifier, 'resource')"
                  style="cursor: pointer;" (cdkDragReleased)="dragEnd($event)" cdkDrag cdkDragLockAxis="y">
                  <div class="drag-icon-block">
                    <img *ngIf="editItem !== module.identifier" loading="lazy" src="cbp-assets/icons/Vector.svg"
                      alt="dragDrop" class="dragIcon" />
                    <img *ngIf="editItem === module.identifier" loading="lazy" src="cbp-assets/icons/Vector_white.svg"
                      alt="dragDrop" class="dragIcon" />
                  </div>
                  <div class="resource-block">
                    <div class="resource-block-display">
                      <span title="{{module.name}}" class="resourse-text" style="white-space: normal;">{{
                        module.name}}</span>
                      <span *ngIf="module.duration>0" class="resource-duration-txt">(
                        {{ module.duration | formatDuration }} )</span>
                    </div>
                    <div class="resource-status-block">
                      <span *ngIf="module.artifactUrl&& module.mimeType !== 'application/json'"
                        class="resourse-status">{{module.mimeType | MimeTypePipe}}
                        Updated
                      </span>
                      <span *ngIf="module.artifactUrl&& module.mimeType == 'application/json'"
                        class="resourse-status">{{module?.isAssessment?'Assessment':'Quiz'}}
                        Updated
                      </span>
                      <span *ngIf="!module.artifactUrl" class="resourse-status">Draft
                      </span>
                    </div>
                  </div>


                </div>
              </div>
            </div>
            <!--module & resources left canvas-->
            <div class="model-text" cdkDropList (cdkDropListDropped)="drop($event)">
              <span *ngIf="courseData?.children.length===0">{{courseData?.children}}Your Modules and Resources will be
                visible
                here
                once you start adding
                them.</span>
            </div>
            <!-- <ws-author-auth-toc></ws-author-auth-toc> -->
            <!--module left canvas creation-->
            <div class="model-left-create-content div-2" *ngIf="showAddModuleForm && moduleNames.length >0" cdkDropList
              (cdkDropListDropped)="drop($event)">
              <div (click)="editContent(module)" class="module-container" *ngFor="let module of moduleNames">
                <div class="mod-heading">
                  <h2 class="module-text" style="margin: 0px !important;">{{module.name !== '' ? module.name : "no
                    title2"}}
                  </h2>
                  <span fxFlex style="flex: 1 1 auto;"></span>
                </div>
                <div *ngIf="isOnClickOfResourceTypeEnabled">
                  <div (click)="editContent(resource)" *ngFor="let resource of resourceNames"
                    class="heading-resource resource-3">
                    <div class="custom-placeholder border border-solid" *cdkDragPlaceholder></div>
                    <mat-icon class="cursor-pointer" matTooltip="dragDrop" [matTooltipPosition]="'left'" cdkDrag
                      cdkDragBoundary=".model-left-create-content div-3" cdkDragLockAxis="y"
                      (click)="dragDrop(resource,resource.identifier, 'resource')">none</mat-icon> <span
                      class="resourse-text" style="white-space: normal;">{{resource.name}}</span>
                    <span fxFlex style="flex: 1 1 auto;"></span>
                  </div>
                </div>

                <button *ngIf="isSaveModuleFormEnable" mat-raised-button [disabled]="!isOnClickOfResourceTypeEnabled"
                  class="button-style secondary-button-outline mat-button-base "
                  style="margin:0.4rem;color: #1C5D95 !important;" (click)="addIndependentResource()"> Add
                  Resource</button>

              </div>
            </div>
          </div>
          <div *ngIf="isSelfAssessment" class="model-left-create-content div-1">
            <div class="module-container" *ngFor="let module of courseData?.children;index as i">
              <div>
                <div (click)="editContent(module)" class="left-block-container"
                  *ngIf="module.primaryCategory === 'Course Unit'"
                  [ngClass]="editItem === module.identifier ? 'edit-item' : ''" style="cursor: pointer;">
                  <img *ngIf="editItem !== module.identifier" src="cbp-assets/icons/Vector.svg" alt="dragDrop"
                    class="dragIcon" />
                  <img *ngIf="editItem === module.identifier" src="cbp-assets/icons/Vector_white.svg" alt="dragDrop"
                    class="dragIcon" />
                  <div class="mod-heading">
                    <h2 class="module-text" style="margin: 0px !important">{{module.name !== '' ?
                      module.name : "no title1"}}
                    </h2>
                    <span fxFlex style="flex: 1 1 auto;"></span>
                  </div>
                </div>
                <div *ngIf="module?.children?.length > 0">
                  <div (click)="editContent(resource)" *ngFor="let resource of module.children;index as l"
                    class="resource-1" style="cursor:pointer"
                    [ngClass]="editItem === resource.identifier ? 'edit-item' : ''" style="cursor: pointer;">
                    <img *ngIf="editItem !== resource.identifier" src="cbp-assets/icons/Vector.svg" alt="dragDrop"
                      class="dragIcon" />
                    <img *ngIf="editItem === resource.identifier" src="cbp-assets/icons/Vector_white.svg" alt="dragDrop"
                      class="dragIcon" />
                    <span *ngIf="resource.mimeType=='application/json'" style="white-space: normal;"
                      class="resourse-text">{{resource.name}}
                    </span>
                    <span *ngIf="resource.duration>0" class="resource-duration-txt">(
                      {{ resource.duration | formatDuration }} )</span>
                  </div>
                </div>
                <div (click)="editContent(module)" *ngIf="module.primaryCategory !== 'Course Unit'"
                  class="heading-resource resource-2" [ngClass]="editItem === module.identifier ? 'edit-item' : ''"
                  style="cursor: pointer;">
                  <img *ngIf="editItem !== module.identifier" loading="lazy" src="cbp-assets/icons/Vector.svg"
                    alt="dragDrop" class="dragIcon" />
                  <img *ngIf="editItem === module.identifier" loading="lazy" src="cbp-assets/icons/Vector_white.svg"
                    alt="dragDrop" class="dragIcon" />
                  <span *ngIf="module.mimeType=='application/json'" title="{{module.name}}" class="resourse-text"
                    style="white-space: normal;">{{ module.name}}</span>
                  <span *ngIf="module.duration>0" class="resource-duration-txt">(
                    {{ module.duration | formatDuration }} )</span>
                </div>
              </div>
              <button [disabled]="hideResource" *ngIf="module.primaryCategory === 'Course Unit'" mat-raised-button
                class="secondary-button-outline mat-button-base addResourceBtn"
                (click)="addResModule(module.identifier, courseData.identifier)">Add Resource</button>
            </div>

            <!--module & resources left canvas-->
            <div class="model-text" cdkDropList (cdkDropListDropped)="drop($event)">
              <span *ngIf="courseData?.children.length===0"> Your Modules and Resources will be visible
                here once you start adding
                them.</span>
            </div>
            <!-- <ws-author-auth-toc></ws-author-auth-toc> -->
            <!--module left canvas creation-->
            <div class="model-left-create-content div-2" *ngIf="showAddModuleForm && moduleNames.length >0" cdkDropList
              (cdkDropListDropped)="drop($event)">
              <div (click)="editContent(module)" class="module-container" *ngFor="let module of moduleNames">
                <div class="mod-heading">
                  <h2 class="module-text" style="margin: 0px !important;">{{module.name !== '' ? module.name : "no
                    title2"}}
                  </h2>
                  <span fxFlex style="flex: 1 1 auto;"></span>
                </div>
                <div *ngIf="isOnClickOfResourceTypeEnabled">
                  <div (click)="editContent(resource)" *ngFor="let resource of resourceNames"
                    class="heading-resource resource-3">
                    <div class="custom-placeholder border border-solid" *cdkDragPlaceholder></div>
                    <mat-icon class="cursor-pointer" matTooltip="dragDrop" [matTooltipPosition]="'left'" cdkDrag
                      cdkDragBoundary=".model-left-create-content div-3" cdkDragLockAxis="y"
                      (click)="dragDrop(resource,resource.identifier, 'resource')">none</mat-icon> <span
                      class="resourse-text" style="white-space: normal;">{{resource.name}}</span>
                    <span fxFlex style="flex: 1 1 auto;"></span>
                  </div>
                </div>

                <button *ngIf="isSaveModuleFormEnable" mat-raised-button [disabled]="!isOnClickOfResourceTypeEnabled"
                  class="button-style secondary-button-outline mat-button-base "
                  style="margin:0.4rem;color: #1C5D95 !important;" (click)="addIndependentResource()"> Add
                  Resource</button>

              </div>
            </div>
          </div>
        </div>


      </mat-drawer-container>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="3">
      <mat-drawer-container [class.drawer-opened]="drawer.opened" class="margin-left-m example-container">
        <!--module right canvas header-->
        <mat-toolbar class="model header">
          <div style="text-align:end;width: 100%;" class="preview-icon">
            <mat-icon [ngClass]="showAddModuleForm ? 'brand-color' : ''" class="margin-right-s material-icons" style="font-size: small;margin-right: 3px !important;
    vertical-align: bottom;cursor: pointer;color: #1C5D95;">remove_red_eye</mat-icon>
            <span style="font-size: small;cursor: pointer;color:#1C5D95"
              [ngClass]="showAddModuleForm ? 'brand-color' : ''"
              [routerLink]="'/author/toc/' + courseData?.identifier + '/contents'">Preview</span>
            <!-- <button mat-raised-button [ngClass]="showSettingsPage ? 'ws-mat-primary-background' : 'secondary-button'"
              class="width-20 margin-left-s mat-button-base save-btn-bottom" (click)="setSettingsPage()">
              Go to Course Settings ></button> -->
          </div>
        </mat-toolbar>
        <!--module & resource right canvas create page-->
        <div class="landing-right-content" *ngIf="!showAddModuleForm&&!isSelfAssessment"
          style="height: 300px; overflow-y: auto;">
          <div class="course-title-block">
            <span class="course-title">
              Start by adding Modules and Resources to build the Course</span>
          </div>
          <div class="image-container">
            <img loading="lazy" class="course-builder-bg" src="cbp-assets/images/course-builder-bg.svg" alt="Image">
          </div>
        </div>
        <div class="self-landing-right-content" *ngIf="!showAddModuleForm&&isSelfAssessment"
          style="height: 300px; overflow-y: auto;">
          <div class="course-title-block">
            <span class="course-title">
              Start by adding questions to each assessment level</span>
          </div>
          <div class="image-container">
            <img loading="lazy" class="course-builder-bg" src="cbp-assets/images/selfAssessmentBackground.svg"
              alt="Image">
          </div>
        </div>


        <!--module right canvas right create page-->
        <div class="module-right-content scroll-bar"
          *ngIf="showAddModuleForm && !isResourceTypeEnabled && !isOnClickOfResourceTypeEnabled">
          <div class="module-resource-title-block">
            <div>
              <span class="course-sub-title"
                *ngIf="!isSaveModuleFormEnable&&content?.contentType !== 'Collection'">Create Course</span>
              <span class="course-sub-title" *ngIf="content?.contentType === 'Course'">Course Details</span>
              <span class="course-sub-title" *ngIf="content?.contentType === 'CourseUnit'">Module Details</span>
              <span class="course-sub-title" *ngIf="content?.contentType === 'Collection'">Module Details</span>
              <span class="course-sub-title" *ngIf="content?.contentType === 'Resource'&&!isSelfAssessment">Resource
                Details</span>
              <span class="course-sub-title" *ngIf="isSelfAssessment">Assessment Details : </span>
              <span style="color: #1C5D95;" *ngIf="isSelfAssessment" class="course-sub-title">Level
                {{content.index}}</span>
            </div>
            <div class="save-btn-block" *ngIf="!isSelfAssessment">
              <img class="delete-icon" loading="lazy" (click)="takeActions('delete', content, $event.type)"
                src="cbp-assets/icons/fluent_delete-24-regular.svg" alt="delete-icon" />
              <button mat-raised-button *ngIf="moduleButtonName === 'Create' && content?.contentType !== 'Course'"
                class="width-15 text-white   mat-button-base save-btn-bottom"
                (click)="moduleCreate(moduleName, topicDescription, thumbnail)">
                {{moduleButtonName}}</button>
              <button mat-raised-button
                *ngIf="content?.contentType === 'CourseUnit'||content?.contentType === 'Collection'"
                class="width-15 text-white   mat-button-base save-btn-bottom resourcePdfSave"
                (click)="saveDetails(moduleName, topicDescription, thumbnail, isNewTab,isShowBtn,content?.mimeType)">
                {{moduleButtonName}}</button>
              <button [disabled]="(uploadFileName?uploadFileName == '':true)" mat-raised-button
                *ngIf="moduleButtonName === 'Save'&&content?.contentType !== 'Collection' && content?.contentType !== 'CourseUnit' && content?.contentType !== 'Course'&& !isLinkEnabled && content?.mimeType !== 'application/json'"
                class="width-15 text-white   mat-button-base save-btn-bottom resourcePdfSave"
                (click)="saveDetails(moduleName, topicDescription, thumbnail, isNewTab,isShowBtn,content?.mimeType)">
                {{moduleButtonName}}</button>
              <button [disabled]="isLinkEnabled?editResourceLinks.length==0:true || moduleName == ''" mat-raised-button
                *ngIf="moduleButtonName === 'Save' && content?.contentType !== 'Course'&&isLinkEnabled"
                class="width-15 text-white   mat-button-base save-btn-bottom resourcePdfSave"
                (click)="saveDetails(moduleName, topicDescription, thumbnail, isNewTab,isShowBtn,content?.mimeType)">
                {{moduleButtonName}}</button>
              <button mat-raised-button
                *ngIf="moduleButtonName === 'Save' && content?.contentType !== 'Course'&&!isLinkEnabled &&content?.mimeType === 'application/json'"
                class="width-15 text-white   mat-button-base save-btn-bottom resourcePdfSave"
                (click)="saveDetails(moduleName, topicDescription, thumbnail, isNewTab,isShowBtn,content?.mimeType)">
                {{moduleButtonName}}</button>
              <button mat-raised-button *ngIf="content?.contentType === 'Course'"
                class="width-15 text-white   mat-button-base save-btn-bottom resourcePdfSave"
                (click)="saveCourseDetails()">
                Save</button>
            </div>
          </div>
          <div *ngIf="content?.contentType === 'Course'">
            <input name="moduleName" type="text" matInput [(ngModel)]="moduleName" #module
              class=" module-input margin-top-s" placeholder="Name of the Course" autocomplete="off"
              maxlength="250" /><br>
            <mat-hint class="mt-hint">{{ moduleName.length }}/250</mat-hint><br>
            <span *ngIf="moduleName == ''" class="invalid-text">This field is Required</span>
          </div>
          <div class="module-txt-block" *ngIf="content?.contentType === 'CourseUnit' &&!isSelfAssessment">
            <input name="moduleName" type="text" matInput [(ngModel)]="moduleName" #module
              class=" module-input margin-top-s" placeholder="Name of the Module" autocomplete="off"
              maxlength="100" /><br>
            <mat-hint class="mt-hint">{{ moduleName.length }}/100</mat-hint><br>
            <span *ngIf="moduleName == ''" class="invalid-text">This field is Required</span>
          </div>
          <div class="module-txt-block" *ngIf="content?.contentType === 'Resource'&&!isSelfAssessment">
            <input name="moduleName" type="text" matInput [(ngModel)]="moduleName" #module
              class=" module-input margin-top-s" placeholder="Name of the Resource" autocomplete="off"
              maxlength="100" /><br>
            <mat-hint class="mt-hint">{{ moduleName.length }}/100</mat-hint><br>
            <span *ngIf="moduleName == ''" class="invalid-text">This field is Required</span>
          </div>
          <div class="module-txt-block" *ngIf="content?.contentType === 'Collection'">
            <input name="moduleName" type="text" matInput [(ngModel)]="moduleName" #module
              class=" module-input margin-top-s" placeholder="Name of the Resource" autocomplete="off"
              maxlength="100" /><br>
            <mat-hint class="mt-hint">{{ moduleName.length }}/100</mat-hint><br>
            <span *ngIf="moduleName == ''" class="invalid-text">This field is Required</span>
          </div>
          <div class="module-txt-block margin-top-l" *ngIf="isSelfAssessment">
            <span class="self-assessment-name">{{moduleName}}</span><br />
            <span class="self-assessment-level margin-top-m">Level {{content.index}}</span>
          </div>
          <div class="module-txt-block" *ngIf="content?.mimeType === 'application/json'&&!isSelfAssessment">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 16 15" fill="none">
              <g clip-path="url(#clip0_1391_3564)">
                <path
                  d="M7.9936 14.9957C5.80575 14.9957 3.61362 14.9957 1.42577 14.9957C0.637968 14.9957 0.0685271 14.5064 0.00430449 13.7808C-0.0213846 13.4686 0.0770902 13.1943 0.235506 12.9286C1.39579 10.95 2.55608 8.97138 3.71637 6.98858C4.75678 5.21249 5.79719 3.4364 6.84187 1.66031C7.15442 1.13296 7.69818 0.888275 8.28903 1.01484C8.69577 1.09921 8.98263 1.33968 9.18814 1.69405C10.5497 4.02702 11.9155 6.35576 13.2813 8.68451C14.1162 10.1062 14.9468 11.5279 15.7817 12.9497C16.3597 13.9368 15.7389 14.9957 14.5786 14.9957C12.3821 14.9957 10.1857 14.9957 7.98932 14.9957H7.9936ZM7.9936 13.9537C10.1686 13.9537 12.3436 13.9537 14.5186 13.9537C14.9468 13.9537 15.0538 13.7808 14.844 13.4264C12.6604 9.70123 10.4769 5.97186 8.29331 2.24671C8.12205 1.9514 7.90797 1.9514 7.72815 2.24249C7.70674 2.27624 7.68961 2.30999 7.66821 2.34374C5.93848 5.29686 4.20875 8.2542 2.47474 11.2073C2.02518 11.9751 1.57562 12.7387 1.12606 13.5065C0.98477 13.7512 1.10037 13.9453 1.38723 13.9537C1.43861 13.9537 1.49427 13.9537 1.54565 13.9537C3.69497 13.9537 5.84428 13.9537 7.9936 13.9537Z"
                  fill="black" />
                <path
                  d="M7.98926 13.9538C5.83994 13.9538 3.69063 13.9538 1.54131 13.9538C1.48993 13.9538 1.43427 13.9538 1.38289 13.9538C1.09603 13.9453 0.980432 13.7513 1.12172 13.5066C1.567 12.7388 2.02084 11.971 2.4704 11.2074C4.20013 8.25426 5.92986 5.29692 7.66387 2.3438C7.68527 2.31005 7.7024 2.2763 7.72381 2.24255C7.89935 1.95568 8.11771 1.95568 8.28897 2.24677C10.4725 5.97192 12.6561 9.70129 14.8397 13.4264C15.0495 13.785 14.9424 13.9538 14.5143 13.9538C12.3393 13.9538 10.1643 13.9538 7.98926 13.9538ZM7.23143 5.97192C7.33419 7.01395 7.43695 8.07286 7.54399 9.13598C7.57824 9.4777 7.60821 9.82363 7.65102 10.1654C7.67671 10.3636 7.82656 10.4986 8.00211 10.5029C8.18193 10.5029 8.3275 10.3763 8.36175 10.178C8.3746 10.1063 8.38316 10.0346 8.38744 9.96285C8.51589 8.6677 8.64433 7.37254 8.7685 6.07739C8.78134 5.94239 8.78134 5.80317 8.76421 5.66817C8.69999 5.19989 8.43454 4.98474 7.95501 5.00161C7.53542 5.01427 7.28281 5.26739 7.24856 5.71458C7.24428 5.79052 7.24 5.87067 7.23572 5.97192H7.23143ZM8.7685 11.9668C8.7685 11.5407 8.41741 11.1947 7.98498 11.1947C7.55683 11.1947 7.20146 11.5491 7.20575 11.9668C7.20575 12.3928 7.55683 12.7346 7.98926 12.7346C8.42169 12.7346 8.77278 12.3886 8.7685 11.9625V11.9668Z"
                  fill="#F9F487" />
                <path
                  d="M7.23145 5.9719C7.23574 5.87065 7.23574 5.79471 7.2443 5.71456C7.28283 5.26737 7.53116 5.01425 7.95075 5.00159C8.43028 4.98472 8.69573 5.19987 8.75995 5.66815C8.77708 5.80315 8.77708 5.94237 8.76423 6.07737C8.64007 7.37252 8.51163 8.66768 8.38318 9.96283C8.37462 10.0345 8.37034 10.1063 8.35749 10.178C8.32324 10.3763 8.17767 10.507 7.99784 10.5028C7.8223 10.5028 7.67245 10.3678 7.64676 10.1653C7.60395 9.82361 7.57398 9.47768 7.53972 9.13596C7.43269 8.07283 7.32993 7.01393 7.22717 5.9719H7.23145Z"
                  fill="black" />
                <path
                  d="M8.76856 11.9667C8.76856 12.3886 8.42176 12.7388 7.98933 12.7388C7.55689 12.7388 7.21009 12.397 7.20581 11.9709C7.20581 11.5491 7.55689 11.1989 7.98505 11.1989C8.4132 11.1989 8.76428 11.5449 8.76856 11.9709V11.9667Z"
                  fill="black" />
              </g>
              <defs>
                <clipPath id="clip0_1391_3564">
                  <rect width="16" height="14.0147" fill="white" transform="translate(0 0.985352)" />
                </clipPath>
              </defs>
            </svg>
            <span style="color: #000;
              font-family: Roboto;
              font-size: 16px;
              font-style: normal;
              font-weight: 400;
              line-height: 14.4px; /* 90% */
              letter-spacing: -0.32px;margin-left: 5px;">Save the {{content?.isAssessment?'Assessment':'Quiz'}} details
              before clicking on add
              Questions</span>
          </div>
          <!-- is link enabled -->
          <div class="module-txt-block" *ngIf="isLinkEnabled">
            <input #artifactUrl name="moduleName" type="text" matInput [(ngModel)]="editResourceLinks"
              class="module-input margin-top-xs field-width" placeholder="Link" autocomplete="off" maxlength="100"
              i18n-placeholder />

          </div>
          <div *ngIf="isLinkEnabled" class="margin-bottom-s margin-top-s module-txt-block">
            <span style="color: #808080 !important;">Note : A link can be a URL or an Youtube embeded link</span>
          </div>
          <div class="module-txt-block margin-top-s" *ngIf="isLinkEnabled">
            <span *ngIf="editResourceLinks == ''" class="invalid-text">This field is Required</span>
          </div>
          <!-- is pdf/video/audio/zip -->
          <div class="module-txt-block thumnail-row margin-top-xs"
            *ngIf="isPdfOrAudioOrVedioEnabled&&content?.mimeType !== 'application/json'">
            <div>
              <img alt="" class="image max-width" height="144" width="256"
                src="cbp-assets/images/default-white-background.png">
              <div class="empty-file" *ngIf="uploadFileName != ''">
                <mat-icon title="Remove"
                  class="material-icons margin-left-m text-medium edit-close-uploadIcon cursor-pointer"
                  (click)="deleteUploadedFile();$event.stopPropagation()">close</mat-icon>
                <div class="upload-file-name">
                  <div style="flex: 0 0 auto;">
                    <img alt="" class="uploaded-img" src="{{uploadIcon}}">
                  </div>
                  <div style="flex: 1 1 auto;padding:0.1rem 0 0 1em;">
                    <p class="text-wrap">{{uploadFileName}}</p>
                  </div>
                </div>
              </div>
              <div class="pdf" *ngIf="uploadFileName == ''">
                <img alt="" class="pdf-img" src="{{resourceImg}}" (error)="changeToDefaultImg($event)">
                <input #pdfFile (change)="uploadPdf($event.target.files[0]); pdfFile.value = null"
                  style="display: none;" accept="{{acceptType}}" type="file" />
                <button (click)="pdfFile.click()" mat-raised-button
                  class="pdf-button margin-top-m width-15 text-white ws-mat-primary-background mat-button-base save-btn-bottom">Upload
                  File</button>
              </div>
              <div class="margin-bottom-s" *ngIf="acceptType == '.pdf'">
                <span style="color: #808080 !important;">Note : The PDF should have high resolution</span>
                <span *ngIf="resourceImg == ''" class="invalid-text">This field is Required</span>
              </div>
            </div>
            <div *ngIf="uploadFileName == ''">
              <div [ngClass]="acceptType == '.pdf' ? 'pdf-info':'file-info'">
                Files allowed : {{uploadText}}<br> Max.file size : 200MB
              </div>
            </div>
            <div *ngIf="uploadFileName != ''">
              <div [ngClass]="acceptType == '.pdf' ? 'pdf-upload-info':'file-upload-info'">
                Files allowed : {{uploadText}}<br> Max.file size : 200MB
              </div>
            </div>

          </div>
          <div class="module-txt-block" *ngIf="isPdfOrAudioOrVedioEnabled&&content?.mimeType !== 'application/json'">
            <!-- <span style="color:#808080">Resource file</span><br> -->
            <span *ngIf="!uploadFileName&&uploadFileName == ''" class="invalid-text">This field is Required</span>
          </div>
          <div class="module-txt-block margin-top-m">
            <mat-checkbox *ngIf="isLinkEnabled" [(ngModel)]="isNewTab" [checked]="isNewTab"
              style="margin-left: 0px;border-radius: 4px;" class="check-text">Open
              link
              in new tab</mat-checkbox>
            <!-- <mat-checkbox *ngIf="isShowDownloadBtnEnabled" [(ngModel)]="isShowBtn" [checked]="isShowBtn"
              style="margin-left: 0px; margin-top: 5px;" class="check-text">Show Download button</mat-checkbox> -->
          </div>
          <div class="margin-top-s module-txt-block" *ngIf="content?.mimeType === 'application/json'&&isAddOrEdit">
            <button mat-raised-button
              class="margin-top-m text-white ws-mat-primary-background mat-button-base save-btn-bottom"
              (click)="editAssessmentRes(content)">Edit {{content?.isAssessment?'Assessment':'Quiz'}}</button>
          </div>
          <div class="margin-top-s module-txt-block" *ngIf="content?.mimeType === 'application/json'&&!isAddOrEdit">
            <button *ngIf="!isSelfAssessment" mat-raised-button
              class="margin-top-m text-white ws-mat-primary-background mat-button-base save-btn-bottom"
              (click)="editAssessmentRes(content)">Add
              {{content?.isAssessment?'Assessment':'Quiz'}}</button>
            <button *ngIf="isSelfAssessment" mat-raised-button
              class="margin-top-m text-white ws-mat-primary-background mat-button-base save-btn-bottom"
              (click)="editAssessmentRes(content)">Add Assessment</button>
          </div>
          <span *ngIf="content?.mimeType === 'application/json&&!isSelfAssessment'"
            class="margin-top-s module-txt-block quiz-help-txt">Note: You will be taken to
            {{content?.isAssessment?'Assessment':'Quiz'}} builder
          </span>
          <span *ngIf="content?.mimeType === 'application/json'&&isSelfAssessment"
            class="margin-top-s module-txt-block quiz-help-txt">Note: You
            will be taken to Assessment builder
          </span>


          <div class="margin-top-s" *ngIf="isSaveModuleFormEnable">
            <span style="color:#808080" *ngIf="content?.contentType === 'Course'">Course Thumbnail</span>
          </div>
          <div class="thumnail-row margin-top-xs" *ngIf="content?.contentType === 'CourseUnit'">
            <div class="thumbnail-opt">
              <div class="mat-app-background" (click)="uploadThumbnail.click()">
                <img alt="" *ngIf="thumbnail" class="image max-width" height="150" width="256" [src]="thumbnail"
                  (error)="changeToDefaultImg($event)" />
                <button *ngIf="!thumbnail" mat-raised-button class="mat-button-base thumbnail-btn-mt"
                  style="height: fit-content;">
                  + Add Thumbnail
                </button>
                <input type="file" #uploadThumbnail
                  (change)="uploadAppIcon($event.target.files[0]); uploadThumbnail.value = null" style="display: none"
                  [accept]="imageTypes.toString()" />
              </div>
            </div>
            <div class="thumbnail-help-block" i18n>
              <ul class="margin-remove-bottom">
                <li class="thumbnail-info">Thumbnail specifications:</li>
                <li class="thumbnail-info">Maximum file size: 1 MB</li>
                <li class="thumbnail-info">Resolution: 760 px * 400 px</li>
                <li class="thumbnail-info">Thumbnail Ratio: 256(w)X 150(h)</li>
                <li class="thumbnail-info" style="margin-bottom: 5px !important;">Files allowed: JPG, PNG</li>
              </ul>
            </div>
          </div>
          <div class="duration-style module-txt-block margin-bottom-s"
            *ngIf="content?.mimeType !== 'application/json'&&content?.contentType !== 'Course'&&content?.contentType !== 'CourseUnit'">
            <span class="duration-text">Duration:</span>
            <!-- <mat-form-field appearance="outline" class="width-55"> -->
            <input matInput class="numberInput" [(ngModel)]="hours" [ngModelOptions]="{ standalone: true }"
              placeholder="hh" type="number" min="0" max="12" step="1"
              onkeydown="javascript: return ['Backspace','Delete','ArrowLeft','ArrowRight'].includes(event.code) ? true : !isNaN(Number(event.key)) && event.code!=='Space'" />
            <!-- </mat-form-field> -->
            <div class="colon-block">:</div>
            <!-- <mat-form-field appearance="outline" class="width-55"> -->
            <input matInput class="numberInput" [(ngModel)]="minutes" [ngModelOptions]="{ standalone: true }"
              placeholder="mm" type="number" min="0" max="59" step="1"
              onkeydown="javascript: return ['Backspace','Delete','ArrowLeft','ArrowRight'].includes(event.code) ? true : !isNaN(Number(event.key)) && event.code!=='Space'" />
            <!-- </mat-form-field> -->
            <div class="colon-block">:</div>
            <!-- <mat-form-field appearance="outline" class="width-55"> -->
            <input matInput class="numberInput" [(ngModel)]="seconds" [ngModelOptions]="{ standalone: true }"
              placeholder="ss" type="number" min="0" max="59" step="1"
              onkeydown="javascript: return ['Backspace','Delete','ArrowLeft','ArrowRight'].includes(event.code) ? true : !isNaN(Number(event.key)) && event.code!=='Space'" />
            <!-- </mat-form-field> -->


          </div>
          <span
            *ngIf="!hours&&!minutes&&!seconds&&content?.contentType !== 'CourseUnit'&&content?.mimeType !== 'application/json'"
            class="module-txt-block invalid-text">This
            field
            is Required</span>

        </div>
        <!--Onclick of reosurce type page-->
        <div class="module-right-content scroll-bar"
          *ngIf="!isResourceTypeEnabled && showAddModuleForm && isOnClickOfResourceTypeEnabled">
          <div class="module-resource-title-block">
            <div>
              <span class="course-sub-title">Resource Details</span>
            </div>
            <div class="save-btn-block">
              <img class="delete-icon" loading="lazy" (click)="takeActions('delete', content, $event.type)"
                src="cbp-assets/icons/fluent_delete-24-regular.svg" alt="delete-iconsss" />
              <button *ngIf="isLinkEnabled||isAssessmentOrQuizEnabled"
                [disabled]="editResourceLinks.length==0&&!isAssessmentOrQuizEnabled" mat-raised-button
                class="width-15 text-white mat-button-base save-btn-bottom resourcePdfSave"
                (click)="resourceLinkSave()">Save</button>
              <div *ngIf="isPdfOrAudioOrVedioEnabled"><button [disabled]=" uploadFileName==''" mat-raised-button
                  class="width-15 text-white mat-button-base save-btn-bottom resourcePdfSave"
                  (click)="resourcePdfSave()">Save</button>
              </div>
            </div>
          </div>
          <div>
            <!--link form start-->
            <form [formGroup]="resourceLinkForm" class="resource-details-form"
              *ngIf="isLinkEnabled||isAssessmentOrQuizEnabled">
              <mat-form-field appearance="outline" class="module-txt-block margin-top-xs field-width"
                style="margin-bottom: 0vh;">
                <input class="" matInput #name formControlName="name" maxlength="100" i18n-placeholder
                  placeholder="Name of the resource" />
                <mat-hint class="mt-hint">{{ this.resourceLinkForm.value.name.length }}/100</mat-hint>
              </mat-form-field>
              <span *ngIf="resourceLinkForm.get('name').hasError('required')" class="module-txt-block invalid-text">This
                field is
                Required</span>
              <div class="module-txt-block" *ngIf="isAssessmentOrQuizEnabled&&!isSelfAssessment">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 16 15" fill="none">
                  <g clip-path="url(#clip0_1391_3564)">
                    <path
                      d="M7.9936 14.9957C5.80575 14.9957 3.61362 14.9957 1.42577 14.9957C0.637968 14.9957 0.0685271 14.5064 0.00430449 13.7808C-0.0213846 13.4686 0.0770902 13.1943 0.235506 12.9286C1.39579 10.95 2.55608 8.97138 3.71637 6.98858C4.75678 5.21249 5.79719 3.4364 6.84187 1.66031C7.15442 1.13296 7.69818 0.888275 8.28903 1.01484C8.69577 1.09921 8.98263 1.33968 9.18814 1.69405C10.5497 4.02702 11.9155 6.35576 13.2813 8.68451C14.1162 10.1062 14.9468 11.5279 15.7817 12.9497C16.3597 13.9368 15.7389 14.9957 14.5786 14.9957C12.3821 14.9957 10.1857 14.9957 7.98932 14.9957H7.9936ZM7.9936 13.9537C10.1686 13.9537 12.3436 13.9537 14.5186 13.9537C14.9468 13.9537 15.0538 13.7808 14.844 13.4264C12.6604 9.70123 10.4769 5.97186 8.29331 2.24671C8.12205 1.9514 7.90797 1.9514 7.72815 2.24249C7.70674 2.27624 7.68961 2.30999 7.66821 2.34374C5.93848 5.29686 4.20875 8.2542 2.47474 11.2073C2.02518 11.9751 1.57562 12.7387 1.12606 13.5065C0.98477 13.7512 1.10037 13.9453 1.38723 13.9537C1.43861 13.9537 1.49427 13.9537 1.54565 13.9537C3.69497 13.9537 5.84428 13.9537 7.9936 13.9537Z"
                      fill="black" />
                    <path
                      d="M7.98926 13.9538C5.83994 13.9538 3.69063 13.9538 1.54131 13.9538C1.48993 13.9538 1.43427 13.9538 1.38289 13.9538C1.09603 13.9453 0.980432 13.7513 1.12172 13.5066C1.567 12.7388 2.02084 11.971 2.4704 11.2074C4.20013 8.25426 5.92986 5.29692 7.66387 2.3438C7.68527 2.31005 7.7024 2.2763 7.72381 2.24255C7.89935 1.95568 8.11771 1.95568 8.28897 2.24677C10.4725 5.97192 12.6561 9.70129 14.8397 13.4264C15.0495 13.785 14.9424 13.9538 14.5143 13.9538C12.3393 13.9538 10.1643 13.9538 7.98926 13.9538ZM7.23143 5.97192C7.33419 7.01395 7.43695 8.07286 7.54399 9.13598C7.57824 9.4777 7.60821 9.82363 7.65102 10.1654C7.67671 10.3636 7.82656 10.4986 8.00211 10.5029C8.18193 10.5029 8.3275 10.3763 8.36175 10.178C8.3746 10.1063 8.38316 10.0346 8.38744 9.96285C8.51589 8.6677 8.64433 7.37254 8.7685 6.07739C8.78134 5.94239 8.78134 5.80317 8.76421 5.66817C8.69999 5.19989 8.43454 4.98474 7.95501 5.00161C7.53542 5.01427 7.28281 5.26739 7.24856 5.71458C7.24428 5.79052 7.24 5.87067 7.23572 5.97192H7.23143ZM8.7685 11.9668C8.7685 11.5407 8.41741 11.1947 7.98498 11.1947C7.55683 11.1947 7.20146 11.5491 7.20575 11.9668C7.20575 12.3928 7.55683 12.7346 7.98926 12.7346C8.42169 12.7346 8.77278 12.3886 8.7685 11.9625V11.9668Z"
                      fill="#F9F487" />
                    <path
                      d="M7.23145 5.9719C7.23574 5.87065 7.23574 5.79471 7.2443 5.71456C7.28283 5.26737 7.53116 5.01425 7.95075 5.00159C8.43028 4.98472 8.69573 5.19987 8.75995 5.66815C8.77708 5.80315 8.77708 5.94237 8.76423 6.07737C8.64007 7.37252 8.51163 8.66768 8.38318 9.96283C8.37462 10.0345 8.37034 10.1063 8.35749 10.178C8.32324 10.3763 8.17767 10.507 7.99784 10.5028C7.8223 10.5028 7.67245 10.3678 7.64676 10.1653C7.60395 9.82361 7.57398 9.47768 7.53972 9.13596C7.43269 8.07283 7.32993 7.01393 7.22717 5.9719H7.23145Z"
                      fill="black" />
                    <path
                      d="M8.76856 11.9667C8.76856 12.3886 8.42176 12.7388 7.98933 12.7388C7.55689 12.7388 7.21009 12.397 7.20581 11.9709C7.20581 11.5491 7.55689 11.1989 7.98505 11.1989C8.4132 11.1989 8.76428 11.5449 8.76856 11.9709V11.9667Z"
                      fill="black" />
                  </g>
                  <defs>
                    <clipPath id="clip0_1391_3564">
                      <rect width="16" height="14.0147" fill="white" transform="translate(0 0.985352)" />
                    </clipPath>
                  </defs>
                </svg>
                <span style="color: #000;
font-family: Roboto;
font-size: 16px;
font-style: normal;
font-weight: 400;
line-height: 14.4px; /* 90% */
letter-spacing: -0.32px;margin-left: 5px;">Save the {{content?.isAssessment?'Assessment':'Quiz'}} details before
                  clicking on add Questions</span>
              </div>

              <div class="module-txt-block" style="display:flex; flex-direction:row"
                *ngIf="isLinkEnabled && !isAssessmentOrQuizEnabled">
                <mat-form-field appearance="outline" class="margin-top-xs field-width">
                  <input class="" matInput #artifactUrl [(ngModel)]="editResourceLinks" formControlName="artifactUrl"
                    maxlength="100" i18n-placeholder placeholder="Link" />
                </mat-form-field>

              </div>
              <span
                *ngIf="resourceLinkForm.get('artifactUrl').hasError('required')&&isLinkEnabled && !isAssessmentOrQuizEnabled"
                class="module-txt-block invalid-text">This field
                is Required</span>
              <div class="margin-bottom-s module-txt-block" *ngIf="!isAssessmentOrQuizEnabled">
                <span style="color: #808080 !important;">Note : A link can be a URL or an Youtube embeded link</span>
              </div>
              <mat-checkbox *ngIf="isLinkEnabled" class="module-txt-block check-texts"
                formControlName="isIframeSupported">Open link in new
                tab</mat-checkbox>


              <!--validation div for resource link-->

              <div class="margin-top-s module-txt-block" *ngIf="isAssessmentOrQuizEnabled">
                <button mat-raised-button
                  class="margin-top-m text-white ws-mat-primary-background mat-button-base save-btn-bottom"
                  (click)="addAssessment()">Add Questions</button>

              </div>
              <span class="margin-top-s module-txt-block quiz-help-txt">Note: You will be taken to
                {{content?.isAssessment?'Assessment':'Quiz'}} builder
              </span>

              <div class="module-txt-block duration-style margin-top-s" *ngIf="!isAssessmentOrQuizEnabled">
                <span class="duration-text">Duration:</span>
                <input matInput class="numberInput" [(ngModel)]="hours" [ngModelOptions]="{ standalone: true }"
                  (keyup)="this.resourceLinkForm.controls.duration.setValue(this.timeToSeconds())" placeholder="hh"
                  type="number" min="0" step="1"
                  onkeydown="javascript: return ['Backspace','Delete','ArrowLeft','ArrowRight'].includes(event.code) ? true : !isNaN(Number(event.key)) && event.code!=='Space'" />
                <div class="colon-block">:</div>

                <input matInput class="numberInput" [(ngModel)]="minutes" [ngModelOptions]="{ standalone: true }"
                  (keyup)="this.resourceLinkForm.controls.duration.setValue(this.timeToSeconds())" placeholder="mm"
                  type="number" min="0" max="59" step="1"
                  onkeydown="javascript: return ['Backspace','Delete','ArrowLeft','ArrowRight'].includes(event.code) ? true : !isNaN(Number(event.key)) && event.code!=='Space'" />
                <div class="colon-block">:</div>

                <input matInput class="numberInput" [(ngModel)]="seconds" [ngModelOptions]="{ standalone: true }"
                  (keyup)="this.resourceLinkForm.controls.duration.setValue(this.timeToSeconds())" placeholder="ss"
                  type="number" min="0" max="59" step="1"
                  onkeydown="javascript: return ['Backspace','Delete','ArrowLeft','ArrowRight'].includes(event.code) ? true : !isNaN(Number(event.key)) && event.code!=='Space'" />
              </div>
              <span *ngIf="resourceLinkForm.get('duration').hasError('required')&&!isAssessmentOrQuizEnabled"
                class="module-txt-block invalid-text">This field
                is Required</span>
              <div>
                <!--
                <button [disabled]="editResourceLinks.length==0&&!isAssessmentOrQuizEnabled" mat-raised-button
                  class="margin-top-m width-15 text-white mat-button-base save-btn-bottom resourcePdfSave"
                  (click)="resourceLinkSave()">Save</button> -->
              </div>

            </form>
            <!--link form end-->
            <!--PDF/audio/vedio form start-->
            <form [formGroup]="resourcePdfForm" class="resource-details-form" *ngIf="isPdfOrAudioOrVedioEnabled">
              <mat-form-field appearance="outline" class="module-txt-block margin-top-xs field-width"
                style="margin-bottom: 0vh;">
                <input class="" matInput #name formControlName="name" maxlength="100" i18n-placeholder
                  placeholder="Name of the resource" />
                <mat-hint style="padding: 0px;" class="mt-hint">{{ this.resourcePdfForm.value.name.length
                  }}/100</mat-hint>
              </mat-form-field>
              <span *ngIf="resourcePdfForm.get('name').hasError('required')" class="module-txt-block invalid-text">This
                field
                is Required</span>

              <div class="module-txt-block thumnail-row margin-top-xs">
                <div>
                  <img alt="" class="image max-width" height="144" width="256"
                    src="cbp-assets/images/default-white-background.png">
                  <ng-container *ngIf="uploadFileName != ''">
                    <mat-icon class="material-icons margin-left-m text-medium close-uploadIcon"
                      (click)="deleteUploadedFile();$event.stopPropagation()">close</mat-icon>
                    <div class="upload-file-name">
                      <div style="flex: 0 0 auto;">
                        <img alt="" class="uploaded-img" src="{{uploadIcon}}">
                      </div>
                      <div style="flex: 1 1 auto;padding:0.1rem 0 0 1em;">
                        <p class="text-wrap">{{uploadFileName}}</p>
                      </div>
                    </div>
                  </ng-container>
                  <div class="pdf" *ngIf="uploadFileName == ''">
                    <img alt="" class="pdf-img" src="{{resourceImg}}" (error)="changeToDefaultImg($event)">
                    <input class="" #pdfFile (change)="uploadPdf($event.target.files[0]); pdfFile.value = null"
                      style="display: none;" accept="{{acceptType}}" type="file" />
                    <button (click)="pdfFile.click()" mat-raised-button
                      class="pdf-button margin-top-m width-15 text-white  mat-button-base save-btn-bottom uploadPdfButton">Upload
                      File</button>
                  </div>
                  <div class="margin-bottom-s" *ngIf="acceptType == 'pdf'">
                    <span style="color: #808080 !important;">Note : The PDF should have high resolution</span>
                  </div>
                </div>
                <div [ngClass]="acceptType == '.pdf'&&uploadFileName !== ''?'pdf-new-info':'file-new-info'">
                  Files allowed : {{uploadText}}<br> Max.file size : 200MB
                </div>
              </div>
              <div class="margin-top-s module-txt-block" *ngIf="isSaveModuleFormEnable">
                <!-- <span style="color:#808080">Resource file</span><br> -->
                <span *ngIf="uploadFileName == ''" class="invalid-text">This field is Required</span>
              </div>
              <div class="margin-top-m" style="display:flex; flex-direction:row" *ngIf="isLinkEnabled">
                <mat-checkbox class="module-txt-block check-text" formControlName="isIframeSupported">Open link
                  in new tab</mat-checkbox>
              </div>
              <!-- <div class="margin-top-m" style="display:flex; flex-direction:row" *ngIf="isShowDownloadBtnEnabled">
                <mat-checkbox class="module-txt-block" formControlName="showDownloadBtn">Show
                  Download Button</mat-checkbox>
              </div> -->
              <div class="margin-top-m duration-style module-txt-block">
                <span class="duration-text">Duration:</span><br>
                <input matInput class="numberInput" [(ngModel)]="hours" [ngModelOptions]="{ standalone: true }"
                  (keyup)="this.resourcePdfForm.controls.duration.setValue(this.timeToSeconds())" placeholder="hh"
                  type="number" min="0" step="1"
                  onkeydown="javascript: return ['Backspace','Delete','ArrowLeft','ArrowRight'].includes(event.code) ? true : !isNaN(Number(event.key)) && event.code!=='Space'" />
                <div class="colon-block">:</div>

                <input matInput class="numberInput" [(ngModel)]="minutes" [ngModelOptions]="{ standalone: true }"
                  (keyup)="this.resourcePdfForm.controls.duration.setValue(this.timeToSeconds())" placeholder="mm"
                  type="number" min="0" max="59" step="1"
                  onkeydown="javascript: return ['Backspace','Delete','ArrowLeft','ArrowRight'].includes(event.code) ? true : !isNaN(Number(event.key)) && event.code!=='Space'" />
                <div class="colon-block">:</div>

                <input matInput class="numberInput" [(ngModel)]="seconds" [ngModelOptions]="{ standalone: true }"
                  (keyup)="this.resourcePdfForm.controls.duration.setValue(this.timeToSeconds())" placeholder="ss"
                  type="number" min="0" max="59" step="1"
                  onkeydown="javascript: return ['Backspace','Delete','ArrowLeft','ArrowRight'].includes(event.code) ? true : !isNaN(Number(event.key)) && event.code!=='Space'" />
              </div>
              <span *ngIf="resourcePdfForm.get('duration').hasError('required')"
                class="module-txt-block invalid-text">This
                field
                is Required</span>


            </form>
          </div>
        </div>
        <!--Resource types page -->
        <div class="resource-right-content" *ngIf="isResourceTypeEnabled && showAddModuleForm">
          <div class="module-resource-title-block">
            <div>
              <span class="course-title">Select Resourse Type</span>
            </div>
            <div class="save-btn-block">
              <button mat-raised-button class="text-white   mat-button-base save-btn-bottom cancelResouceSelection"
                (click)="cancelResouceSelection()">
                Cancel</button>
            </div>
          </div>
          <div class="resource-selection-type">
            <div *ngIf="!isSelfAssessment" class="margin-top-m margin-bottom-s">
              <span class="learnering-format-txt">Learning Format:</span>
            </div>
            <div *ngIf="!isSelfAssessment" style="display:flex;">
              <div *ngFor="let list of contentList">
                <div class="icon-contents margin-right-s" (click)="createResourseContent(list.name,list.type)">
                  <div class="list-boxes">
                    <img loading="lazy" [src]="list.icon" alt="icon" />
                  </div>
                  <div class="icon-text cursor-pointer" matListItemTitle>{{list.name}}</div>
                </div>
              </div>
            </div>
            <div class="margin-top-l margin-bottom-s">
              <span class="learnering-format-txt">Access your learner:</span>
            </div>
            <div style="display:flex;">
              <div class="accessList-block" *ngFor="let list of accessList">
                <div class="icon-contents margin-right-s" (click)="createResourseContent(list.name,list.type)">
                  <div class="list-boxes">
                    <img loading="lazy" [src]="list.icon" alt="icon" />
                  </div>
                  <div class="icon-text cursor-pointer" matListItemTitle>{{list.name}}</div>
                </div>
                <div class="accessList-help">
                  <span class="accessList-help-txt">{{list.text}}</span>
                </div>
              </div>
            </div>
          </div>

        </div>

        <ng-template #guideline>
          <div class="margin-top-m margin-bottom-m">
            <div style="position: relative;">
              <h3 class="mat-h3 font-weight-bold margin-remove-bottom" i18n>
                Guidelines for zip file upload
              </h3>
              <button class="close-button primary-button" (click)="closeDialog()">
                <mat-icon aria-label="Next" role="button">close</mat-icon>
              </button>
            </div>
            <div style="max-height: 400px">
              <div class="mat-form-field mt-4">
                <div class="flex w-100">
                  <mat-checkbox [(ngModel)]="fileUploadCondition.fileName" i18n></mat-checkbox>
                  <div class="margin-left-s" i18n>All the folder and file names should not contains any special
                    character
                    including space</div>
                </div>
                <div class="flex relative mat-form-field-appearance-fill mt-4"
                  *ngIf="fileUploadCondition.isSubmitPressed && !fileUploadCondition.fileName">
                  <div class="mat-form-field-subscript-wrapper mat-error no-padding" i18n>
                    Accept the declaration
                  </div>
                </div>
              </div>
              <div class="mat-form-field mt-4">
                <div class="flex w-100">
                  <mat-checkbox [(ngModel)]="fileUploadCondition.eval" i18n></mat-checkbox>
                  <div class="margin-left-s" i18n>Should not have any code which will cause security vulnerability like
                    usage
                    eval function</div>
                </div>
                <div class="flex relative mat-form-field-appearance-fill mt-4"
                  *ngIf="fileUploadCondition.isSubmitPressed && !fileUploadCondition.eval">
                  <div class="mat-form-field-subscript-wrapper mat-error no-padding" i18n>
                    Accept the declaration
                  </div>
                </div>
              </div>
              <div class="mat-form-field mt-4">
                <div class="flex w-100">
                  <mat-checkbox [(ngModel)]="fileUploadCondition.externalReference" i18n></mat-checkbox>
                  <div class="margin-left-s" i18n>All the dependencies should be included in the zip. Should not refer
                    to
                    external
                    websites to load any assets like images, css or js</div>
                </div>
                <div class="flex relative mat-form-field-appearance-fill mt-4"
                  *ngIf="fileUploadCondition.isSubmitPressed && !fileUploadCondition.externalReference">
                  <div class="mat-form-field-subscript-wrapper mat-error no-padding" i18n>
                    Accept the declaration
                  </div>
                </div>
              </div>
              <div class="mat-form-field mt-4">
                <div class="flex w-100">
                  <mat-checkbox [(ngModel)]="fileUploadCondition.iframe" i18n></mat-checkbox>
                  <div class="margin-left-s" i18n>Should not include any iframe. If required contact the Platform Admin.
                  </div>
                </div>
                <div class="flex relative mat-form-field-appearance-fill mt-4"
                  *ngIf="fileUploadCondition.isSubmitPressed && !fileUploadCondition.iframe">
                  <div class="mat-form-field-subscript-wrapper mat-error no-padding" i18n>
                    Accept the declaration
                  </div>
                </div>
              </div>
              <div class="mat-form-field mt-4">
                <div class="flex w-100">
                  <mat-checkbox [(ngModel)]="fileUploadCondition.preview" i18n></mat-checkbox>
                  <div class="margin-left-s" i18n>After successful upload of zip file ensure everything is working fine
                    by
                    previewing the content. If there is any inconsistency check in the developer mode to know the exact
                    reason</div>
                </div>
                <div class="flex relative mat-form-field-appearance-fill mt-4"
                  *ngIf="fileUploadCondition.isSubmitPressed && !fileUploadCondition.preview">
                  <div class="mat-form-field-subscript-wrapper mat-error no-padding" i18n>
                    Accept the declaration
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="flex justify-center ">
            <button type="button" [disabled]="!fileUploadCondition.fileName ||
                !fileUploadCondition.iframe ||
                !fileUploadCondition.eval ||
                !fileUploadCondition.preview ||
                !fileUploadCondition.externalReference" mat-raised-button
              class="margin-top-m ws-mat-primary-background zip-upload-agree" (click)="fileUploadCondition.isSubmitPressed = true;
                fileUploadCondition.fileName &&
                fileUploadCondition.iframe &&
                fileUploadCondition.eval &&
                fileUploadCondition.preview &&
                fileUploadCondition.externalReference ? closeDialog() : null">
              <div class="flex flex-middle justify-center ">
                <p class="margin-remove-bottom agree-text" i18n>I Agree</p>
              </div>
            </button>
          </div>
        </ng-template>
        <ng-template #selectFile>
          <div class="margin-top-m margin-bottom-m" style="max-height: 400px;">
            <div style="position: relative;">
              <h3 class="mat-h3 font-weight-bold margin-remove-bottom" i18n>
                Select the entry file
              </h3>
              <button class="close-button primary-button" (click)="closeDialog()">
                <mat-icon aria-label="Next" role="button">close</mat-icon>
              </button>
            </div>
            <div class="mt-4">
              <mat-radio-group aria-labelledby="example-radio-group-label"
                class="flex flex-1 flex-column example-radio-group" [(ngModel)]="fileUploadCondition.url">
                <mat-radio-button class="example-radio-button" *ngFor="let file of fileList" [value]="file"
                  (change)="selectEntryPoint(file)">
                  {{file}}
                </mat-radio-button>
              </mat-radio-group>
            </div>
            <div class="flex justify-center padding-bottom-m">
              <button type="button" mat-raised-button color="primary" class="margin-top-m ws-mat-primary-background"
                (click)="closeDialog(); selectedEntryFile=true">
                <div class="flex flex-middle justify-center">
                  <p class="margin-remove-bottom agree-text" i18n>Done</p>
                </div>
              </button>
            </div>
          </div>

        </ng-template>
        <ng-template #errorFile>
          <div class="margin-top-m margin-bottom-m">
            <div style="position: relative;">
              <h3 class="mat-h3 font-weight-bold margin-remove-bottom" i18n>
                Following files or folders have special characters in their names
              </h3>
              <button class="close-button primary-button" (click)="closeDialog()">
                <mat-icon aria-label="Next" role="button">close</mat-icon>
              </button>
            </div>
            <div style="max-height: 400px" class="mat-form-field mt-4" id="errorFiles">
              <div *ngFor="let name of errorFileList">{{name}}</div>
            </div>
          </div>
          <div class="flex justify-center">
            <button type="button" mat-raised-button class="ws-mat-primary-background margin-top-m"
              (click)="closeDialog()">
              <div class="flex flex-middle justify-center">
                <p class="margin-remove-bottom agree-text" i18n>I Understand</p>
              </div>
            </button>
          </div>
        </ng-template>
      </mat-drawer-container>
    </mat-grid-tile>
  </mat-grid-list>
  <ws-auth-course-settings (data)="action($event)" *ngIf="isSettingsPage"></ws-auth-course-settings>
</div>